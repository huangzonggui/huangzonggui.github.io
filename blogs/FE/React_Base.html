<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ReactåŸºç¡€çŸ¥è¯†å’ŒåŸç† | Aki Huang ğŸ¤”ğŸ‘ŠğŸ’ªâœï¸ğŸ‘€ğŸ‘¨â€ğŸ’»â€ </title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="è®©æ­£ç¡®çš„äº‹æƒ…æŒç»­å‘ç”Ÿ">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.37f5b436.css" as="style"><link rel="preload" href="/assets/js/app.a6f77771.js" as="script"><link rel="preload" href="/assets/js/3.7f2c89d8.js" as="script"><link rel="preload" href="/assets/js/1.7045c4ac.js" as="script"><link rel="preload" href="/assets/js/28.66456a8e.js" as="script"><link rel="prefetch" href="/assets/js/10.3d6d9b99.js"><link rel="prefetch" href="/assets/js/11.6bffa02c.js"><link rel="prefetch" href="/assets/js/12.4259a4c9.js"><link rel="prefetch" href="/assets/js/13.56019218.js"><link rel="prefetch" href="/assets/js/14.5d445bf2.js"><link rel="prefetch" href="/assets/js/15.ad49d11a.js"><link rel="prefetch" href="/assets/js/16.1a7f0f66.js"><link rel="prefetch" href="/assets/js/17.6cedc9e6.js"><link rel="prefetch" href="/assets/js/18.c6d158a4.js"><link rel="prefetch" href="/assets/js/19.d7a8dff5.js"><link rel="prefetch" href="/assets/js/20.189ed124.js"><link rel="prefetch" href="/assets/js/21.0c31ad1d.js"><link rel="prefetch" href="/assets/js/22.009bdddb.js"><link rel="prefetch" href="/assets/js/23.5e4eda22.js"><link rel="prefetch" href="/assets/js/24.c708ac7a.js"><link rel="prefetch" href="/assets/js/25.d8cb76d2.js"><link rel="prefetch" href="/assets/js/26.57676e98.js"><link rel="prefetch" href="/assets/js/27.abafb5c9.js"><link rel="prefetch" href="/assets/js/29.f5944f68.js"><link rel="prefetch" href="/assets/js/30.6b783f98.js"><link rel="prefetch" href="/assets/js/31.36117798.js"><link rel="prefetch" href="/assets/js/32.1f3b9c0b.js"><link rel="prefetch" href="/assets/js/33.731e8ec3.js"><link rel="prefetch" href="/assets/js/4.e77bf8e0.js"><link rel="prefetch" href="/assets/js/5.7fd364b0.js"><link rel="prefetch" href="/assets/js/6.689cd122.js"><link rel="prefetch" href="/assets/js/7.ae42653a.js"><link rel="prefetch" href="/assets/js/8.379e54ce.js"><link rel="prefetch" href="/assets/js/9.ffd35c14.js">
    <link rel="stylesheet" href="/assets/css/0.styles.37f5b436.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>Aki Huang ğŸ¤”ğŸ‘ŠğŸ’ªâœï¸ğŸ‘€ğŸ‘¨â€ğŸ’»â€ </h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>è®©æ­£ç¡®çš„äº‹æƒ…æŒç»­å‘ç”Ÿ</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Aki Huang</span>
          Â Â 
          <span data-v-4e82dffc>2021 - </span>
          2023
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Aki Huang ğŸ¤”ğŸ‘ŠğŸ’ªâœï¸ğŸ‘€ğŸ‘¨â€ğŸ’»â€ " class="logo"> <span class="site-name">Aki Huang ğŸ¤”ğŸ‘ŠğŸ’ªâœï¸ğŸ‘€ğŸ‘¨â€ğŸ’»â€ </span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Data Structures and Algorithms/" class="nav-link"><i class="undefined"></i>
  Data Structures and Algorithms
</a></li><li class="dropdown-item"><!----> <a href="/categories/FrontEnd/" class="nav-link"><i class="undefined"></i>
  FrontEnd
</a></li><li class="dropdown-item"><!----> <a href="/categories/other/" class="nav-link"><i class="undefined"></i>
  other
</a></li><li class="dropdown-item"><!----> <a href="/categories/Think/" class="nav-link"><i class="undefined"></i>
  Think
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/huangzonggui/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="huangzonggui huangzonggui-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/870468940997319" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="huangzonggui huangzonggui-juejin"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    Aki Huang
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>21</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>20</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Data Structures and Algorithms/" class="nav-link"><i class="undefined"></i>
  Data Structures and Algorithms
</a></li><li class="dropdown-item"><!----> <a href="/categories/FrontEnd/" class="nav-link"><i class="undefined"></i>
  FrontEnd
</a></li><li class="dropdown-item"><!----> <a href="/categories/other/" class="nav-link"><i class="undefined"></i>
  other
</a></li><li class="dropdown-item"><!----> <a href="/categories/Think/" class="nav-link"><i class="undefined"></i>
  Think
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/huangzonggui/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="huangzonggui huangzonggui-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/870468940997319" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="huangzonggui huangzonggui-juejin"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>ReactåŸºç¡€çŸ¥è¯†å’ŒåŸç†</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Aki Huang</span>
          Â Â 
          <span data-v-4e82dffc>2021 - </span>
          2023
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">ReactåŸºç¡€çŸ¥è¯†å’ŒåŸç†</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>Aki Huang</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>12/12/2021</span></i> <i class="iconfont reco-eye" data-v-1ff7123e><span id="/blogs/FE/React_Base.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-1ff7123e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>React</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="ğŸ¤”æ€è€ƒ"><a href="#ğŸ¤”æ€è€ƒ" class="header-anchor">#</a> ğŸ¤”æ€è€ƒ</h1> <ul><li>ç»„ä»¶ä¹‹é—´å¦‚ä½•é€šè®¯</li> <li>JSXçš„æœ¬è´¨æ˜¯ä»€ä¹ˆ</li> <li>Contextæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åº”ç”¨ï¼Ÿ</li> <li>shouldComponentUpdateç”¨é€”</li> <li>reduxå•å‘æ•°æ®æµç”»å›¾è¡¨ç¤º</li> <li>setStateåœºæ™¯é¢˜
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/557ac554f12e4973a0cdb958e4290821~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></li> <li>ä»€ä¹ˆæ˜¯çº¯å‡½æ•°</li> <li>Reactç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</li> <li>Reactå‘èµ·ajaxåº”è¯¥åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸ</li> <li>æ¸²æŸ“åˆ—è¡¨ï¼Œä¸ºä½•ä½¿ç”¨key</li> <li>å‡½æ•°ç»„ä»¶å’Œclassç»„ä»¶çš„åŒºåˆ«</li> <li>ä»€ä¹ˆæ˜¯å—æ§ç»„ä»¶</li> <li>ä½•æ—¶ä½¿ç”¨å¼‚æ­¥ç»„ä»¶</li> <li>å¤šä¸ªç»„ä»¶æœ‰å…¬å…±é€»è¾‘ï¼Œå¦‚ä½•æŠ½ç¦»</li> <li>reduxå¦‚ä½•è¿›è¡Œå¼‚æ­¥è¯·æ±‚</li> <li>react-routerå¦‚ä½•é…ç½®æ‡’åŠ è½½
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a25c6bf75f645119792946ea1ccd305~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></li> <li>React ä¸­Â <strong>Function Component ä¸ Class Component æœ‰ä½•ä¸åŒï¼Ÿ</strong></li> <li>PureComponentæœ‰ä½•åŒºåˆ«</li> <li>Reactäº‹ä»¶å’ŒDOMäº‹ä»¶çš„åŒºåˆ«</li> <li>Reactæ€§èƒ½ä¼˜åŒ–</li> <li>Reactå’ŒVueçš„åŒºåˆ«</li></ul> <h1 id="react-åŸºç¡€ã€ä½¿ç”¨"><a href="#react-åŸºç¡€ã€ä½¿ç”¨" class="header-anchor">#</a> React åŸºç¡€ã€ä½¿ç”¨</h1> <h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="header-anchor">#</a> åŸºç¡€</h2> <h3 id="jsxåŸºç¡€çŸ¥è¯†ç‚¹"><a href="#jsxåŸºç¡€çŸ¥è¯†ç‚¹" class="header-anchor">#</a> JSXåŸºç¡€çŸ¥è¯†ç‚¹</h3> <ul><li>å˜é‡ã€æ’å€¼</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>è¡¨è¾¾å¼</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag <span class="token operator">?</span> <span class="token string">'yes'</span> <span class="token operator">:</span> <span class="token string">'no'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>è®¾ç½® class name</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> classElem <span class="token operator">=</span> <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span>è®¾ç½® css <span class="token keyword">class</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>å­å…ƒç´ å’Œç»„ä»¶</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// å­å…ƒç´ </span>
<span class="token keyword">const</span> imgElem <span class="token operator">=</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>æˆ‘çš„å¤´åƒ<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;xxxx.png&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>imgUrl<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>style</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// style</span>
<span class="token keyword">const</span> styleData <span class="token operator">=</span> <span class="token punctuation">{</span> fontSize<span class="token operator">:</span> <span class="token string">'30px'</span><span class="token punctuation">,</span>  color<span class="token operator">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> styleElem <span class="token operator">=</span> <span class="token operator">&lt;</span>p style<span class="token operator">=</span><span class="token punctuation">{</span>styleData<span class="token punctuation">}</span><span class="token operator">&gt;</span>è®¾ç½® style<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token comment">// å†…è”å†™æ³•ï¼Œæ³¨æ„ {{ å’Œ }}</span>
<span class="token comment">// const styleElem = &lt;p style={{ fontSize: '30px',  color: 'blue' }}&gt;è®¾ç½® style&lt;/p&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>æ’å…¥åŸç”Ÿ HTML
<ul><li>æœ‰è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰çš„é£é™©ï¼Œä¸å»ºè®®ä½¿ç”¨</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åŸç”Ÿ html</span>
<span class="token keyword">const</span> rawHtml <span class="token operator">=</span> <span class="token string">'&lt;span&gt;å¯Œæ–‡æœ¬å†…å®¹&lt;i&gt;æ–œä½“&lt;/i&gt;&lt;b&gt;åŠ ç²—&lt;/b&gt;&lt;/span&gt;'</span>
<span class="token keyword">const</span> rawHtmlData <span class="token operator">=</span> <span class="token punctuation">{</span>
	__html<span class="token operator">:</span> rawHtml <span class="token comment">// æ³¨æ„ï¼Œå¿…é¡»æ˜¯è¿™ç§æ ¼å¼</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> rawHtmlElem <span class="token operator">=</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>p dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span>rawHtmlData<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>rawHtml<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">return</span> rawHtmlElem
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>æ’å…¥ä¾‹å­</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createMarkup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span> __html<span class="token operator">:</span> <span class="token string">'&lt;img src=&quot;empty.png&quot; onerror =&quot;alert(\'xss\')&quot;/&gt;'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&lt;</span>div dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">createMarkup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7e8c88f79684cdab6d36fca009736fe~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p> <h3 id="jsxå¦‚ä½•åˆ¤æ–­æ¡ä»¶å’Œæ¸²æŸ“åˆ—è¡¨"><a href="#jsxå¦‚ä½•åˆ¤æ–­æ¡ä»¶å’Œæ¸²æŸ“åˆ—è¡¨" class="header-anchor">#</a> JSXå¦‚ä½•åˆ¤æ–­æ¡ä»¶å’Œæ¸²æŸ“åˆ—è¡¨</h3> <ul><li>if else</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">'dark'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>dark<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>not dark<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>ä¸‰å…ƒè¡¨è¾¾å¼</li> <li>é€»è¾‘è¿ç®—ç¬¦ &amp;&amp; ||</li></ul> <p>ä¸ Vue ä¸åŒï¼Œv-if v-else</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;type === 'A'&quot;</span><span class="token operator">&gt;</span> <span class="token constant">A</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;type === 'B'&quot;</span><span class="token operator">&gt;</span> <span class="token constant">B</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;type === 'C'&quot;</span><span class="token operator">&gt;</span> <span class="token constant">C</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span> Not <span class="token constant">A</span><span class="token operator">/</span><span class="token constant">B</span><span class="token operator">/</span><span class="token constant">C</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>æ¸²æŸ“åˆ—è¡¨
<ul><li>map with key</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>index<span class="token operator">:</span> <span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h3 id="reactäº‹ä»¶ä¸ºä½•bind-this"><a href="#reactäº‹ä»¶ä¸ºä½•bind-this" class="header-anchor">#</a> Reactäº‹ä»¶ä¸ºä½•bind this</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>

        <span class="token comment">// ä¿®æ”¹æ–¹æ³•çš„ this æŒ‡å‘</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickHandler1</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">clickHandler1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// console.log('this....', this) // this é»˜è®¤æ˜¯ undefined</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			name<span class="token operator">:</span> <span class="token string">'lisi'</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ç®­å¤´å‡½æ•°é‡Œæ²¡æœ‰ this, å¾€ä¸Šä¸€çº§æ‰¾ é™æ€æ–¹æ³•ï¼Œthis æŒ‡å‘å½“å‰å®ä¾‹ï¼Œæ‰€ä»¥ä¸ç”¨ bind</span>
    <span class="token function-variable function">clickHandler2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'lisi'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="react-event-äº‹ä»¶å’Œ-dom-äº‹ä»¶çš„åŒºåˆ«"><a href="#react-event-äº‹ä»¶å’Œ-dom-äº‹ä»¶çš„åŒºåˆ«" class="header-anchor">#</a> React event äº‹ä»¶å’Œ DOM äº‹ä»¶çš„åŒºåˆ«</h3> <ol><li>event ä¸æ˜¯åŸç”Ÿäº‹ä»¶ï¼Œ æ˜¯ SyntheticEventï¼Œæ¨¡æ‹Ÿ DOM äº‹ä»¶çš„æ‰€æœ‰èƒ½åŠ›
<ul><li>SyntheticEvent åˆæˆäº‹ä»¶ï¼šä¸ºäº†é€‚é…å„ä¸ªæµè§ˆå™¨ï¼Œreact å°è£…äº†åŸç”Ÿäº‹ä»¶ä¸ºåˆæˆäº‹ä»¶</li></ul></li> <li>event.nativeEvent æ˜¯åŸç”Ÿäº‹ä»¶å¯¹è±¡</li> <li>React 16 ä¹‹å‰ï¼Œæ‰€æœ‰äº‹ä»¶éƒ½æŒ‚è½½åˆ° DOCUMENT ä¸Šï¼ŒReact 17 æ‰€æœ‰äº‹ä»¶éƒ½æŒ‚è½½åˆ° ROOT ELEMENT ä¸Š
<ul><li>æœ‰åˆ©äºå¤šä¸ª React ç‰ˆæœ¬å…±å­˜ï¼Œä¾‹å¦‚ <code>å¾®å‰ç«¯</code> <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c69783ea7e949cba87b4c9e226409b7~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></li></ul></li> <li>å’Œ DOM äº‹ä»¶ä¸ä¸€æ ·ï¼Œå’Œ VUE äº‹ä»¶ä¹Ÿä¸ä¸€æ ·</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// è·å– event</span>
  <span class="token function-variable function">clickHandler3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// event.preventDefault(); // é˜»æ­¢é»˜è®¤è¡Œä¸º</span>
    <span class="token comment">//    event.stopPropagation(); // é˜»æ­¢å†’æ³¡</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;target&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å‘å½“å‰å…ƒç´ ï¼Œå³å½“å‰å…ƒç´ è§¦å‘</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;current target&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å‘å½“å‰å…ƒç´ ï¼Œå‡è±¡ï¼ï¼ï¼</span>

    <span class="token comment">// æ³¨æ„ï¼Œevent å…¶å®æ˜¯ React å°è£…çš„ã€‚å¯ä»¥çœ‹ __proto__.constructor æ˜¯ SyntheticEvent ç»„åˆäº‹ä»¶</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸æ˜¯åŸç”Ÿçš„ Event ï¼ŒåŸç”Ÿçš„ MouseEvent</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;event.__proto__.constructor&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// åŸç”Ÿ event å¦‚ä¸‹ã€‚å…¶ __proto__.constructor æ˜¯ MouseEvent</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;nativeEvent&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;nativeEvent target&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å‘å½“å‰å…ƒç´ ï¼Œå³å½“å‰å…ƒç´ è§¦å‘</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;nativeEvent current target&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// React 16 ä¹‹å‰ï¼Œæ‰€æœ‰äº‹ä»¶éƒ½æŒ‚è½½åˆ° DOCUMENT ä¸Šï¼ŒReact 17 æ‰€æœ‰äº‹ä»¶éƒ½æŒ‚è½½åˆ° ROOT ELEMENT ä¸Š</span>
    <span class="token comment">//  æœ‰åˆ©äºå¤šä¸ª React ç‰ˆæœ¬å…±å­˜ï¼Œä¾‹å¦‚ `å¾®å‰ç«¯`</span>

    <span class="token comment">// 1. event æ˜¯ SyntheticEvent ï¼Œæ¨¡æ‹Ÿå‡ºæ¥ DOM äº‹ä»¶æ‰€æœ‰èƒ½åŠ›</span>
    <span class="token comment">// 2. event.nativeEvent æ˜¯åŸç”Ÿäº‹ä»¶å¯¹è±¡</span>
    <span class="token comment">// 3. æ‰€æœ‰çš„äº‹ä»¶ï¼Œéƒ½è¢«æŒ‚è½½åˆ° document ä¸Š</span>
    <span class="token comment">// 4. å’Œ DOM äº‹ä»¶ä¸ä¸€æ ·ï¼Œå’Œ Vue äº‹ä»¶ä¹Ÿä¸ä¸€æ ·</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><a href="https://codepen.io/huangzonggui/pen/MWEbyaZ" target="_blank" rel="noopener noreferrer">let me try<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>ä¸ Vue æ¯”è¾ƒ</p> <ol><li>event æ˜¯åŸç”Ÿçš„</li> <li>äº‹ä»¶è¢«æŒ‚è½½åˆ°å½“å‰å…ƒç´ </li> <li>å’Œ DOM äº‹ä»¶ä¸€æ ·</li></ol> <ul><li>ä¼ é€’å‚æ•°
<ul><li>æœ€åè¿½åŠ ä¸€ä¸ªå‚æ•°ï¼Œå³å¯æ¥æ”¶ event</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// ä¼ é€’å‚æ•°</span>
  <span class="token function">clickHandler4</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> title<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœ€åè¿½åŠ ä¸€ä¸ªå‚æ•°ï¼Œå³å¯æ¥æ”¶ event</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="react-è¡¨å•çŸ¥è¯†ç‚¹"><a href="#react-è¡¨å•çŸ¥è¯†ç‚¹" class="header-anchor">#</a> React è¡¨å•çŸ¥è¯†ç‚¹</h3> <ol><li><p>å—æ§ç»„ä»¶</p> <ul><li>å¯ä»¥ç®€å•ç†è§£ä¸ºï¼š input å— state æ§åˆ¶ï¼Œé€šè¿‡ onChange æ‰‹åŠ¨ä¿®æ”¹ state çš„å€¼<div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;inputName&quot;</span><span class="token operator">&gt;</span>å§“åï¼š<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* ç”¨ htmlFor ä»£æ›¿ for */</span><span class="token punctuation">}</span>
		<span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">&quot;inputName&quot;</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onInputChange<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token function-variable function">onInputChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		name<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul></li> <li><p>input textarea select ä½¿ç”¨ value</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>info<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onTextareaChange<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>select value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>city<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onSelectChange<span class="token punctuation">}</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;beijing&quot;</span><span class="token operator">&gt;</span>åŒ—äº¬<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;shanghai&quot;</span><span class="token operator">&gt;</span>ä¸Šæµ·<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;shenzhen&quot;</span><span class="token operator">&gt;</span>æ·±åœ³<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>checkbox radio ä½¿ç”¨ checked</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span> checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onCheckboxChange<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	male <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;gender&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;male&quot;</span> checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'male'</span><span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onRadioChange<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	female <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;radio&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;gender&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;female&quot;</span> checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'female'</span><span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onRadioChange<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>gender<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ol> <h3 id="reactçˆ¶å­ç»„ä»¶é€šè®¯"><a href="#reactçˆ¶å­ç»„ä»¶é€šè®¯" class="header-anchor">#</a> Reactçˆ¶å­ç»„ä»¶é€šè®¯</h3> <ul><li>çˆ¶ç»„ä»¶å¯ä»¥ç»™å­ç»„ä»¶ä¼ é€’<code>æ•°æ®</code>æˆ–<code>æ–¹æ³•</code></li> <li>åœ¨å­ç»„ä»¶ä¸­ï¼Œé€šè¿‡ this.props è·å–çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®</li> <li>çŠ¶æ€æå‡ï¼šreact ç»„ä»¶ä¸­ï¼Œåœ¨å…¬å…±çš„çˆ¶ç»„ä»¶ä¸­å®šä¹‰å˜é‡</li></ul> <h3 id="setstate-ä¸ºä½•ä½¿ç”¨ä¸å¯å˜å€¼"><a href="#setstate-ä¸ºä½•ä½¿ç”¨ä¸å¯å˜å€¼" class="header-anchor">#</a> setState ä¸ºä½•ä½¿ç”¨ä¸å¯å˜å€¼</h3> <ul><li>ä¸å¯å˜å€¼
<ul><li>ä¸è¦ç›´æ¥ä¿®æ”¹ state</li> <li>ä¸æ”¹å˜æ•°ç»„çš„å‡½æ•°
<ul><li><code>concat slice map filter reduce</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> oldArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>oldArr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// [1, 2, 3, 100]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>oldArr<span class="token punctuation">)</span><span class="token comment">// [1, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li>æ”¹å˜æ•°ç»„çš„å‡½æ•°ï¼š<code>push pop unshift shift forEach reverse</code></li></ul></li></ul> <p><a href="https://juejin.cn/post/6844904192671219719" target="_blank" rel="noopener noreferrer">js æ”¹å˜åŸæ•°ç»„å’Œä¸æ”¹å˜åŸæ•°ç»„çš„æ–¹æ³•æ•´ç†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="setstate-æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„"><a href="#setstate-æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„" class="header-anchor">#</a> setState æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„</h3> <ul><li>å¼‚æ­¥ï¼šç›´æ¥ä½¿ç”¨æ—¶</li> <li>åŒæ­¥ï¼šsetState å›è°ƒä¸­å¯ä»¥è·å–åˆ°ä¿®æ”¹åçš„å€¼<div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count by callback'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token comment">// å›è°ƒå¯ä»¥æ‹¿åˆ°æœ€æ–°å€¼</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count by callback'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token comment">// å¼‚æ­¥çš„ï¼Œæ‹¿ä¸åˆ°æœ€æ–°å€¼</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>åŒæ­¥ï¼š setTimeout ä¸­ setState æ˜¯åŒæ­¥<div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count in setTimeout'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h3 id="setstateä½•æ—¶ä¼šåˆå¹¶state"><a href="#setstateä½•æ—¶ä¼šåˆå¹¶state" class="header-anchor">#</a> setStateä½•æ—¶ä¼šåˆå¹¶state</h3> <ul><li>ä¼ å…¥å¯¹è±¡ï¼Œä¼šè¢«åˆå¹¶ï¼ˆç±»ä¼¼ä½¿ç”¨äº† Object.assignï¼‰</li> <li>ä¼ å…¥å‡½æ•°ï¼Œä¸ä¼šè¢«åˆå¹¶</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ä¼ å…¥å¯¹è±¡ï¼Œä¼šè¢«åˆå¹¶ï¼ˆç±»ä¼¼ Object.assign ï¼‰ã€‚æ‰§è¡Œç»“æœåªä¸€æ¬¡ +1</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token comment">// ä¼ å…¥å‡½æ•°ï¼Œä¸ä¼šè¢«åˆå¹¶ã€‚æ‰§è¡Œç»“æœæ˜¯ +3</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		count<span class="token operator">:</span> prevState<span class="token punctuation">.</span>count2 <span class="token operator">+</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		count<span class="token operator">:</span> prevState<span class="token punctuation">.</span>count2 <span class="token operator">+</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		count<span class="token operator">:</span> prevState<span class="token punctuation">.</span>count2 <span class="token operator">+</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="react-component-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#react-component-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> React Component ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h3> <p><a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/" target="_blank" rel="noopener noreferrer">å‚è€ƒç½‘ç«™<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8db313ac44314fd781f8862687f72e25~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p> <h4 id="render-é˜¶æ®µå’Œ-commit-é˜¶æ®µ"><a href="#render-é˜¶æ®µå’Œ-commit-é˜¶æ®µ" class="header-anchor">#</a> Render é˜¶æ®µå’Œ Commit é˜¶æ®µ</h4> <p>Render é˜¶æ®µ</p> <ul><li>ç”Ÿæˆ VDOM</li></ul> <blockquote><p>Render é˜¶æ®µæ˜¯ React æ ¹æ®ç»„ä»¶çš„çŠ¶æ€å’Œå±æ€§è®¡ç®—å‡ºç»„ä»¶çš„æ–°è§†å›¾çš„è¿‡ç¨‹ã€‚
åœ¨ Render é˜¶æ®µä¸­ï¼ŒReact ä¼šæ‰§è¡Œç»„ä»¶çš„ render æ–¹æ³•ï¼Œç”Ÿæˆ Virtual DOM å¯¹è±¡ã€‚
åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼ŒReact è¿˜ä¼šæ¯”è¾ƒå‰ä¸€æ¬¡çš„ Virtual DOM å¯¹è±¡å’Œæ–°ç”Ÿæˆçš„ Virtual DOM å¯¹è±¡ä¹‹é—´çš„å·®å¼‚ï¼Œ
ä¹Ÿå°±æ˜¯æ‰€è°“çš„ <code>Reconciliation</code>ï¼ˆåè°ƒï¼‰ç®—æ³•ï¼Œæ‰¾å‡ºéœ€è¦è¿›è¡Œ DOM æ“ä½œçš„åœ°æ–¹ã€‚</p></blockquote> <p>Commit é˜¶æ®µ</p> <ul><li>æäº¤ VDOM çš„å˜åŒ–</li></ul> <blockquote><p>commit é˜¶æ®µæ˜¯å°† React çš„ Virtual DOM æ˜ å°„åˆ°çœŸå®çš„ DOM ä¸Šçš„è¿‡ç¨‹ã€‚åœ¨ commit é˜¶æ®µä¸­ï¼Œ
React ä¼šæ ¹æ®å‰é¢ Render é˜¶æ®µä¸­è®¡ç®—å‡ºçš„éœ€è¦è¿›è¡Œ DOM æ“ä½œçš„åœ°æ–¹ï¼Œæ›´æ–°çœŸå®çš„ DOMï¼Œå®Œæˆé¡µé¢çš„æ¸²æŸ“ã€‚</p></blockquote> <blockquote><p>Render é˜¶æ®µä¸­çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åœ¨è™šæ‹Ÿ DOM ä¸­è¿›è¡Œçš„ï¼ŒçœŸå®çš„ DOM å¹¶æ²¡æœ‰è¢«æ“ä½œã€‚è€Œ commit é˜¶æ®µ
åˆ™æ˜¯å°†è™šæ‹Ÿ DOM çš„å˜åŒ–æ˜ å°„åˆ°çœŸå® DOM ä¸Šçš„è¿‡ç¨‹ã€‚è¿™ç§åˆ†ç¦»çš„è®¾è®¡å¯ä»¥æœ€å°åŒ– DOM æ“ä½œçš„æ¬¡æ•°ï¼Œæé«˜é¡µé¢çš„æ¸²æŸ“æ•ˆç‡ã€‚</p></blockquote> <h4 id="ç‰ˆæœ¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#ç‰ˆæœ¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> ç‰ˆæœ¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h4> <ul><li><p>React 16å‰ã€16.3ã€&gt;= 16.4çš„ç”Ÿå‘½å‘¨æœŸ</p> <ul><li><a href="https://juejin.cn/post/6844903886436696077#heading-16" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6844903886436696077#heading-16<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p><a href="https://www.cnblogs.com/soyxiaobi/p/9559117.html" target="_blank" rel="noopener noreferrer">A B C åµŒå¥—ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h4 id="å•ä¸ªç»„ä»¶çš„å£°æ˜å‘¨æœŸ"><a href="#å•ä¸ªç»„ä»¶çš„å£°æ˜å‘¨æœŸ" class="header-anchor">#</a> å•ä¸ªç»„ä»¶çš„å£°æ˜å‘¨æœŸ</h4> <ul><li>æŒ‚è½½
<ul><li>constructor</li> <li>componentDidMount</li></ul></li> <li>æ›´æ–°ï¼ˆrender: new propsã€new stateã€forceUpdateï¼‰
<ul><li>shouldComponentUpdate</li> <li>componentDidUpdate</li></ul></li> <li>å¸è½½
<ul><li>componentWillUnmount</li></ul></li></ul> <h4 id="hooksæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ"><a href="#hooksæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> hooksæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ</h4> <p>æ¨¡æ‹Ÿï¼š</p> <ul><li>DidMount</li> <li>DidUpdate</li> <li>WillUnMount</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>    // // æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidMount å’Œ DidUpdate
    // useEffect(() =&gt; {
    //     console.log('åœ¨æ­¤å‘é€ä¸€ä¸ª ajax è¯·æ±‚')
    // })

    // // æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidMount
    // useEffect(() =&gt; {
    //     console.log('åŠ è½½å®Œäº†')
    // }, []) // ç¬¬äºŒä¸ªå‚æ•°æ˜¯ [] ï¼ˆä¸ä¾èµ–äºä»»ä½• stateï¼‰

    // // æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidUpdate
    // useEffect(() =&gt; {
    //     console.log('æ›´æ–°äº†')
    // }, [count, name]) // ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä¾èµ–çš„ state

    // æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidMount
    useEffect(() =&gt; {
        let timerId = window.setInterval(() =&gt; {
            console.log(Date.now())
        }, 1000)

        // è¿”å›ä¸€ä¸ªå‡½æ•°
        // æ¨¡æ‹Ÿ WillUnMount
        return () =&gt; {
            window.clearInterval(timerId)
        }
    }, [])

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="é«˜çº§ç‰¹æ€§"><a href="#é«˜çº§ç‰¹æ€§" class="header-anchor">#</a> é«˜çº§ç‰¹æ€§</h2> <h3 id="react-å‡½æ•°ç»„ä»¶å’Œ-class-ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#react-å‡½æ•°ç»„ä»¶å’Œ-class-ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«" class="header-anchor">#</a> React å‡½æ•°ç»„ä»¶å’Œ class ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«</h3> <ul><li>å‡½æ•°ç»„ä»¶æ˜¯çº¯å‡½æ•°ï¼Œè¾“å…¥ props è¾“å‡º return JSXï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•</li> <li>å‡½æ•°ç»„ä»¶æ²¡æœ‰å®ä¾‹ï¼Œæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œæ²¡æœ‰ state</li> <li>å‡½æ•°ç»„ä»¶ç¼–å†™ç®€æ´ï¼Œæ²¡æœ‰è¿™ä¹ˆå¤šä¸ª this....</li> <li>ä¸èƒ½æ‰©å±•å…¶ä»–æ–¹æ³•</li></ul> <p>é€‰æ‹©åŸåˆ™</p> <ul><li>å¦‚æœåªè¾“å…¥ props è¾“å‡º JSXï¼Œé‚£ä¹ˆæ¨èé€‰æ‹©å‡½æ•°ç»„ä»¶</li> <li>å¦‚æœæœ‰å…¶ä»–é€»è¾‘ æ¯”å¦‚è¦è®¾ç½® stateï¼Œå¯¹ç”Ÿå‘½å‘¨æœŸåšä¸€äº›å¤„ç†ï¼Œå¯ä»¥é€‰æ‹© class ç»„ä»¶ã€‚
<ul><li>ä¹Ÿå¯ä»¥ä½¿ç”¨ useHooks + å‡½æ•°ç»„ä»¶</li></ul></li></ul> <h3 id="æœ‰å“ªäº›-usehooks"><a href="#æœ‰å“ªäº›-usehooks" class="header-anchor">#</a> <a href="https://gabriel-yan-book.github.io/react-books/React%20Hooks.html" target="_blank" rel="noopener noreferrer">æœ‰å“ªäº› useHooks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ul><li>useRef ä¸ createRef åŒºåˆ«</li></ul> <h3 id="ä»€ä¹ˆæ˜¯-react-éå—æ§ç»„ä»¶"><a href="#ä»€ä¹ˆæ˜¯-react-éå—æ§ç»„ä»¶" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯ React éå—æ§ç»„ä»¶</h3> <ul><li>ref</li> <li>defaultValue å’Œ defaultChecked</li> <li>æ‰‹åŠ¨æ“ä½œ DOM å…ƒç´ </li></ul> <p>å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶</p> <p>input æ¥ä¸¾ä¾‹å­</p> <ul><li>å—æ§ç»„ä»¶ï¼šé€šè¿‡<code>state</code>è‡ªå·±æ§åˆ¶å€¼</li> <li>éå—æ§ç»„ä»¶ï¼šé€šè¿‡<code>ref</code>è·å–æœ€åçš„å€¼ï¼Œè¾“å…¥çš„è¿‡ç¨‹ä¸å—ä»£ç æ§åˆ¶
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1dc0013c4aa4b0e950c6460893af16c~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></li></ul> <p>éå—æ§ç»„ä»¶åº”ç”¨åœºæ™¯</p> <ul><li>å¿…é¡»æ‰‹åŠ¨æ“ä½œ DOM å…ƒç´ ï¼ŒsetState å®ç°ä¸äº†
<ul><li>eg: æ–‡ä»¶ä¸Šä¼ <input type="file"></li> <li>æŸäº›å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œéœ€è¦ä¼ å…¥ DOM å…ƒç´ </li></ul></li></ul> <p>ç›¸å…³å®ç°</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> expends React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>

		thus<span class="token punctuation">.</span>fileInputRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>fileInputRef<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>alertFile<span class="token punctuation">}</span><span class="token operator">&gt;</span>alert file<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token punctuation">}</span>
	 <span class="token function-variable function">alertFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fileInputRef<span class="token punctuation">.</span>current <span class="token comment">// é€šè¿‡ ref è·å– DOM èŠ‚ç‚¹</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>elem<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>å—æ§ç»„ä»¶ vs éå—æ§ç»„ä»¶</p> <ul><li>ä¼˜å…ˆä½¿ç”¨å—æ§ç»„ä»¶ ç¬¦åˆ React è®¾è®¡åŸåˆ™ï¼Œé€šè¿‡ state æ¥æ§åˆ¶æ¸²æŸ“ã€‚æ•°æ®é©±åŠ¨è§†å›¾</li> <li>å¿…é¡»æ‰‹åŠ¨æ“ä½œ DOM çš„ï¼Œé€‰æ‹©éå—æ§ç»„ä»¶</li></ul> <h3 id="ä»€ä¹ˆåœºæ™¯éœ€è¦ä½¿ç”¨-react-portals"><a href="#ä»€ä¹ˆåœºæ™¯éœ€è¦ä½¿ç”¨-react-portals" class="header-anchor">#</a> ä»€ä¹ˆåœºæ™¯éœ€è¦ä½¿ç”¨ React Portals</h3> <blockquote><p>Portals æä¾›å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°çˆ¶èŠ‚ç‚¹ä»¥å¤–çš„æ–¹æ¡ˆ</p></blockquote> <p>portals å®˜ç½‘ç¿»è¯‘: æ’æ§½ æœ‰é“ç¿»è¯‘ï¼šn. é—¨æˆ·ç½‘ç«™ï¼›[å»º]å…¥å£</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">createPortals</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> container<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>åœºæ™¯</p> <ul><li>overflow: hidden
<ul><li>å½¢æˆ BFC ,å½±å“å­ç»„ä»¶æ¸²æŸ“ï¼Œéœ€è¦é€ƒç¦»çˆ¶ç»„ä»¶</li></ul></li> <li>çˆ¶ç»„ä»¶ z-index å€¼å¤ªå°ï¼ˆè¢«é®æŒ¡æ— æ³•æ˜¾ç¤ºï¼‰</li> <li>fixed éœ€è¦æ”¾åœ¨ body çš„ç¬¬ä¸€å±‚çº§</li></ul> <p>å…·ä½“åœºæ™¯</p> <ul><li>å¯¹è¯æ¡†</li> <li>æç¤ºæ¡†</li> <li>æ‚¬æµ®å¡</li></ul> <h3 id="å¯¹æ¯”-vue-slot-çš„å…·åæ’æ§½-å’Œ-react-this-props-children"><a href="#å¯¹æ¯”-vue-slot-çš„å…·åæ’æ§½-å’Œ-react-this-props-children" class="header-anchor">#</a> å¯¹æ¯” &quot;Vue slot çš„å…·åæ’æ§½&quot; å’Œ &quot;react {this.props.children}&quot;</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// vue</span>
<span class="token operator">&lt;</span>navigation<span class="token operator">-</span>link url<span class="token operator">=</span><span class="token string">&quot;/profile&quot;</span><span class="token operator">&gt;</span>
  Your Profile
<span class="token operator">&lt;</span><span class="token operator">/</span>navigation<span class="token operator">-</span>link<span class="token operator">&gt;</span>

<span class="token comment">// åœ¨ &lt;navigation-link&gt; çš„æ¨¡æ¿ä¸­å†™ä¸ºï¼š</span>
<span class="token operator">&lt;</span>a
  v<span class="token operator">-</span>bind<span class="token operator">:</span>href<span class="token operator">=</span><span class="token string">&quot;url&quot;</span>
  <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;nav-link&quot;</span>
<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token comment">// å½“ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™ï¼Œ&lt;slot&gt;&lt;/slot&gt; å°†ä¼šè¢«æ›¿æ¢ä¸ºâ€œYour Profileâ€</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// react</span>
<span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token operator">&lt;</span>demoComponent<span class="token operator">&gt;</span> Your Profile <span class="token operator">&lt;</span><span class="token operator">/</span>demoComponent<span class="token operator">&gt;</span>

<span class="token comment">// åœ¨å­ç»„ä»¶ä¸­ demoComponent å†™ä¸ºï¼š</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token comment">// ç»„ä»¶æ¸²æŸ“ {this.props.children} å°†ä¼šè¢«æ›¿æ¢ä¸ºâ€œYour Profileâ€</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="react-context"><a href="#react-context" class="header-anchor">#</a> React Context</h3> <ul><li>å…¬å…±ä¿¡æ¯ï¼ˆè¯­è¨€ã€ä¸»é¢˜ï¼‰å¦‚ä½•ä¼ é€’ç»™æ¯ä¸€ä¸ªç»„ä»¶
<ul><li>é¿å…é€šè¿‡ä¸­é—´å…ƒç´ ä¼ é€’ props , ç”¨ props å¤ªç¹çï¼ˆæ¯”å¦‚ç»„ä»¶å±‚çº§å¤ªæ·±ï¼Œéœ€è¦ä¸€å±‚ä¸€å±‚ä¼ é€’ï¼Œéº»çƒ¦ï¼Œéš¾ä»¥ç»´æŠ¤ï¼‰</li> <li>redux å¤§æå°ç”¨</li></ul></li></ul> <p>API</p> <ul><li>React.createContext</li> <li>Context.Provider</li> <li>æ¶ˆè´¹è€… <a href="https://zh-hans.reactjs.org/docs/context.html#contextconsumer" target="_blank" rel="noopener noreferrer">Context.Consumer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>å®ç°</p> <p>ç›®çš„ï¼šåº•å±‚ç»„ä»¶ï¼Œè¯»å–ä¸Šå±‚æ•°æ®</p> <ol><li>åˆ›å»º context</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> ThemeContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>ç»„ä»¶é—´åµŒå¥—
<ol><li>APP</li> <li>Toolbar</li> <li>ThemeLinkã€ThemeButton</li></ol></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åº•å±‚ç»„ä»¶ - å‡½æ•°æ˜¯ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">ThemeLink</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// const theme = this.context // ä¼šæŠ¥é”™ã€‚å‡½æ•°å¼ç»„ä»¶æ²¡æœ‰å®ä¾‹ï¼Œå³æ²¡æœ‰ this</span>

    <span class="token comment">// å‡½æ•°å¼ç»„ä»¶å¯ä»¥ä½¿ç”¨ Consumer</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>ThemeContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>link's theme is <span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token comment">// åº•å±‚ç»„ä»¶ - class ç»„ä»¶</span>
<span class="token keyword">class</span> <span class="token class-name">ThemedButton</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token comment">// æŒ‡å®š contextType è¯»å–å½“å‰çš„ theme contextã€‚</span>
    <span class="token comment">// static contextType = ThemeContext // ä¹Ÿå¯ä»¥ç”¨ ThemedButton.contextType = ThemeContext</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token comment">// React ä¼šå¾€ä¸Šæ‰¾åˆ°æœ€è¿‘çš„ theme Providerï¼Œç„¶åä½¿ç”¨å®ƒçš„å€¼ã€‚</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>button's theme is <span class="token punctuation">{</span>theme<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ThemedButton<span class="token punctuation">.</span>contextType <span class="token operator">=</span> ThemeContext <span class="token comment">// æŒ‡å®š contextType è¯»å–å½“å‰çš„ theme contextã€‚</span>

<span class="token keyword">function</span> <span class="token function">Toolbar</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>ThemedButton <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>ThemeLink <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            theme<span class="token operator">:</span> <span class="token string">'light'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token operator">&lt;</span>ThemeContext<span class="token punctuation">.</span>provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>Toolbar <span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeTheme<span class="token punctuation">}</span><span class="token operator">&gt;</span>change theme<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>ThemeContext<span class="token punctuation">.</span>provider<span class="token operator">&gt;</span>
	<span class="token punctuation">}</span>

	<span class="token function">changeTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            theme<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> <span class="token string">'dark'</span> <span class="token operator">:</span> <span class="token string">'light'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p>æ€æƒ³</p> <ul><li>é¡¶å±‚ç»„ä»¶ ç”Ÿäº§æä¾›æ•°æ® ç®¡ç†æ•°æ®</li> <li>åº•å±‚ç»„ä»¶ æ¶ˆè´¹æ•°æ®</li></ul> <h3 id="å¦‚ä½•å¼‚æ­¥åŠ è½½ç»„ä»¶"><a href="#å¦‚ä½•å¼‚æ­¥åŠ è½½ç»„ä»¶" class="header-anchor">#</a> å¦‚ä½•å¼‚æ­¥åŠ è½½ç»„ä»¶</h3> <ul><li>import() (ç±»ä¼¼ Vue)</li> <li>React.lazy</li> <li>React.Suspense</li></ul> <p>ç»„ä»¶æ¯”è¾ƒå¤§æ—¶ï¼Œæˆ–è€…è·¯ç”±æ‡’åŠ è½½æ—¶ä½¿ç”¨å¼‚æ­¥ç»„ä»¶</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> TestLazyComponent <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./TestLazyComponent'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> expents React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>TestLazyComponent<span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Suspense<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>æµ‹è¯•æŠ€å·§</p> <ul><li>å¼ºåˆ¶åˆ·æ–°ï¼Œå¯ä»¥çœ‹åˆ° loading ï¼ˆå¯é€šè¿‡é™åˆ¶æ¨¡æ‹Ÿæ…¢ç½‘é€Ÿ chrome æ¥çœ‹åˆ°ï¼‰</li> <li>çœ‹ network çš„ js åŠ è½½ï¼Œæ‡’åŠ è½½ä¼šç‹¬ç«‹ä¸€ä¸ª js æ–‡ä»¶æ‡’åŠ è½½</li></ul> <h3 id="reactæ€§èƒ½ä¼˜åŒ–"><a href="#reactæ€§èƒ½ä¼˜åŒ–" class="header-anchor">#</a> Reactæ€§èƒ½ä¼˜åŒ–</h3> <ul><li>é‡ç‚¹</li> <li>æ€§èƒ½ä¼˜åŒ–å¯¹ React æ›´åŠ é‡è¦</li> <li>é‡åˆ°æ€§èƒ½é—®é¢˜æ‰éœ€è¦ä¼˜åŒ–ï¼Œç»“åˆä¸šåŠ¡å’Œå®é™…éœ€æ±‚</li></ul> <h4 id="scu-shouldcomponentupdate-æ ¸å¿ƒé—®é¢˜åœ¨å“ªé‡Œ"><a href="#scu-shouldcomponentupdate-æ ¸å¿ƒé—®é¢˜åœ¨å“ªé‡Œ" class="header-anchor">#</a> SCU ï¼ˆshouldComponentUpdateï¼‰æ ¸å¿ƒé—®é¢˜åœ¨å“ªé‡Œ</h4> <p>é—®é¢˜</p> <ul><li>çˆ¶ç»„ä»¶ state å˜åŒ–çš„æ—¶å€™ï¼ŒSCU é»˜è®¤è¿”å› trueï¼Œ å­ç»„ä»¶éƒ½é»˜è®¤ä¼šæ¸²æŸ“ï¼Œå³ React é»˜è®¤é‡æ–°æ¸²æŸ“æ‰€æœ‰å­ç»„ä»¶ï¼Œæ— è®ºå­ç»„ä»¶ä¸­çš„ state æ˜¯å¦å˜åŒ–</li></ul> <p>æ ¸å¿ƒ</p> <ul><li>SCU é»˜è®¤è¿”å› trueï¼Œä½†æ˜¯å¯ä»¥å®šåˆ¶åŒ–ï¼Œé€šè¿‡åˆ¤æ–­æ˜¯å¦ä¿®æ”¹ state æˆ– props æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>nextState<span class="token punctuation">.</span>num <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token comment">// å€¼ä¸åŒ æ¸²æŸ“</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token comment">// ä¸é‡å¤æ¸²æŸ“</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="scu-ä¸€å®šè¦é…åˆä¸å¯å˜å€¼"><a href="#scu-ä¸€å®šè¦é…åˆä¸å¯å˜å€¼" class="header-anchor">#</a> SCU ä¸€å®šè¦é…åˆä¸å¯å˜å€¼</h4> <p>å¦‚æœç›´æ¥ä¿®æ”¹ state çš„å€¼ï¼Œåœ¨ SCU ä¸­åˆ¤æ–­æ˜¯å¦å˜åŒ–çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šåˆ¤æ–­ä¸ºæ²¡æœ‰å˜åŒ–ï¼Œå¯¼è‡´æ²¡æœ‰æ¸²æŸ“</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">setData</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// é”™è¯¯ç¤ºèŒƒâŒ</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		num<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>num
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="purecomponent-å’Œ-memo"><a href="#purecomponent-å’Œ-memo" class="header-anchor">#</a> PureComponent å’Œ memo</h4> <ul><li>PureComponent SCU ä¸­å®ç°äº†æµ…æ¯”è¾ƒ
<ul><li>SCU å°†è·³è¿‡æ‰€æœ‰å­ç»„ä»¶æ ‘çš„ prop æ›´æ–°ã€‚å› æ­¤ï¼Œè¯·ç¡®ä¿æ‰€æœ‰å­ç»„ä»¶ä¹Ÿéƒ½æ˜¯â€œçº¯â€çš„ç»„ä»¶ã€‚</li> <li>ç”¨æ³•</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li>memo: å‡½æ•°ç»„ä»¶ä¸­çš„ PureComponent
<ul><li>åŒ…è£…ç»„ä»¶</li> <li>ç”¨æ³•</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">/* ä½¿ç”¨ props æ¸²æŸ“ */</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">areEqual</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">/*
	å¦‚æœæŠŠ nextProps ä¼ å…¥ render æ–¹æ³•çš„è¿”å›ç»“æœä¸
	å°† prevProps ä¼ å…¥ render æ–¹æ³•çš„è¿”å›ç»“æœä¸€è‡´åˆ™è¿”å› trueï¼Œ
	å¦åˆ™è¿”å› false
	*/</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">,</span> areEqual<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li>æµ…æ¯”è¾ƒå·²é€‚ç”¨å¤§éƒ¨åˆ†åº”ç”¨åœºæ™¯ï¼ˆå°½é‡ä¸è¦ä½¿ç”¨æ·±åº¦æ¯”è¾ƒï¼‰
<ul><li>è®¾è®¡ state æ—¶å€™ï¼Œå°½é‡ä¸è¦è®¾è®¡è¿‡æ·±ç»“æ„</li></ul></li></ul> <h4 id="äº†è§£-immutable-js"><a href="#äº†è§£-immutable-js" class="header-anchor">#</a> äº†è§£ <a href="https://immutable-js.com/" target="_blank" rel="noopener noreferrer">immutable.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <ul><li>ä¸€ä¸ª js module: Immutable data cannot be changed once created</li></ul> <blockquote><p>Immutable.js provides many Persistent Immutable data structures including: <code>List, Stack, Map, OrderedMap, Set, OrderedSet and Record</code>.</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Map <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'immutable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map1 <span class="token operator">=</span> <span class="token function">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map2 <span class="token operator">=</span> map1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' vs. '</span> <span class="token operator">+</span> map2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2 vs. 50</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="react-é«˜é˜¶ç»„ä»¶-hoc"><a href="#react-é«˜é˜¶ç»„ä»¶-hoc" class="header-anchor">#</a> React é«˜é˜¶ç»„ä»¶(HOC)</h3> <p><strong>ç»„ä»¶å…¬å…±é€»è¾‘æŠ½ç¦»</strong></p> <ul><li>mixin å·²è¢« React åºŸå¼ƒ</li> <li>é«˜é˜¶ç»„ä»¶ HOC (High Order Component)</li> <li>Render Props</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">HOCFactory</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">Component</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">HOC</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">&lt;</span>Component <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token comment">// è¿”å›æ‹¼æ¥çš„ç»“æœ</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> <span class="token constant">HOC</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> EnhancedComponent1 <span class="token operator">=</span> <span class="token function">HOCFactory</span><span class="token punctuation">(</span>WrappedComponent1<span class="token punctuation">)</span>
<span class="token keyword">const</span> EnhancedComponent2 <span class="token operator">=</span> <span class="token function">HOCFactory</span><span class="token punctuation">(</span>WrappedComponent2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>eg: ä¸ºç»„ä»¶å°è£…è·å–é¡µé¢çš„åæ ‡é€»è¾‘</p> <p>æ¡ˆä¾‹</p> <ul><li>redux connectå‡½æ•° æ˜¯é«˜é˜¶ç»„ä»¶</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-redux&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> VisibleTodoList <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>TodoList<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> VisibleTodoList
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="https://imweb.io/topic/5a1969b2a192c3b460fce226" target="_blank" rel="noopener noreferrer">connect æºç <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¿”å›ä¸€ä¸ªåŒ…ç€æ¸²æŸ“ç»„ä»¶çš„é«˜é˜¶ç»„ä»¶</p> <ul><li>å°†ç»„ä»¶ï¼ˆWrappedComponentï¼‰ä¼ å…¥</li> <li>å°† <code>stateProps</code> <code>dispatchProps</code> <code>this.props</code> ä¼ å…¥åˆ°ç»„ä»¶ä¸­ï¼Œè¿™æ ·ç»„ä»¶å°±å¯ä»¥ç”¨åˆ° redux ä¸­çš„æ•°æ®</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">connect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">Connect</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> contextTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
      store<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>object
    <span class="token punctuation">}</span>
    
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
        allProps<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">componentWillMount</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> store <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_updateProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">_updateProps</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> store <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context
      <span class="token keyword">let</span> stateProps <span class="token operator">=</span> mapStateToProps
        <span class="token operator">?</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// é˜²æ­¢ mapStateToProps æ²¡æœ‰ä¼ å…¥</span>
      <span class="token keyword">let</span> dispatchProps <span class="token operator">=</span> mapDispatchToProps
        <span class="token operator">?</span> <span class="token function">mapDispatchToProps</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>dispatch<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// é˜²æ­¢ mapDispatchToProps æ²¡æœ‰ä¼ å…¥</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        allProps<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>stateProps<span class="token punctuation">,</span>
          <span class="token operator">...</span>dispatchProps<span class="token punctuation">,</span>
          <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>allProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> Connect
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>æºç åŸºç¡€</p> <p>1ã€ä»<code>context</code>é‡Œè·å–<code>store</code></p> <p>2ã€åœ¨<code>componentWillMount</code>Â é‡Œé€šè¿‡<code>mapStateToProps</code>è·å–<code>stateProp</code>çš„å€¼</p> <p>3ã€ åœ¨<code>componentWillMount</code>Â é‡Œé€šè¿‡<code>mapDispatchToProps</code>è·å–<code>dispatchProps</code>çš„å€¼</p> <p>4ã€åœ¨<code>componentWillMount</code>é‡Œè®¢é˜…<code>store</code>çš„å˜åŒ–</p> <p>5ã€å°†è·å¾—çš„<code>stateProp</code>ï¼Œ<code>dispatchProps</code>ï¼Œè¿˜æœ‰è‡ªèº«çš„<code>props</code>åˆæˆä¸€ä¸ª<code>props</code>ä¼ ç»™ä¸‹é¢çš„ç»„ä»¶</p> <h3 id="ä»€ä¹ˆæ˜¯react-render-props"><a href="#ä»€ä¹ˆæ˜¯react-render-props" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯React Render Props</h3> <p>è·Ÿ HOC ç±»ä¼¼ï¼Œ</p> <ul><li>æ ¸å¿ƒæ€æƒ³ï¼šå°† class ç»„ä»¶ä¸­çš„ state ä½œä¸º props é€šè¿‡<strong>å‡½æ•°æ–¹å¼</strong>ä¼ é€’ç»™<strong>çº¯å‡½æ•°ç»„ä»¶</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Factory</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token comment">/* state å³å¤šä¸ªç»„ä»¶çš„å…¬å…±é€»è¾‘çš„æ•°æ® */</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// è°ƒç”¨</span>
<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>Factory 
    <span class="token comment">// render æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶</span>
    render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>a<span class="token punctuation">}</span> <span class="token punctuation">{</span>props<span class="token punctuation">.</span>b<span class="token punctuation">}</span> <span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> <span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>å®ä¾‹ï¼š
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/46b14b3fce104ddf851bb94caae07695~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <h3 id="å¯¹æ¯”-hoc-å’Œ-render-props"><a href="#å¯¹æ¯”-hoc-å’Œ-render-props" class="header-anchor">#</a> å¯¹æ¯” HOC å’Œ Render Props</h3> <ul><li>HOC: æ¨¡å¼ç®€å•ï¼Œä½†ä¼šå¢åŠ ç»„ä»¶å±‚çº§ï¼Œå®¹æ˜“å‡ºç° props æ¼ä¼ çš„æƒ…å†µ</li> <li>Render Props: ä»£ç ç®€æ´</li></ul> <h2 id="redux"><a href="#redux" class="header-anchor">#</a> Redux</h2> <h3 id="åŸºæœ¬çŸ¥è¯†ç‚¹"><a href="#åŸºæœ¬çŸ¥è¯†ç‚¹" class="header-anchor">#</a> åŸºæœ¬çŸ¥è¯†ç‚¹</h3> <ul><li>ä¸ Vuex ä½œç”¨ç›¸åŒ æ¯” Vuex å­¦ä¹ æˆæœ¬é«˜</li> <li>ä¸å¯å˜å€¼ï¼Œçº¯å‡½æ•°</li> <li>å•å‘æ•°æ®æµ</li> <li>react-redux</li> <li>å¼‚æ­¥ action</li> <li>ä¸­é—´ä»¶</li></ul> <h3 id="redux-å•å‘æ•¸æ“šæµ"><a href="#redux-å•å‘æ•¸æ“šæµ" class="header-anchor">#</a> Redux å•å‘æ•¸æ“šæµ</h3> <p>æ¦‚å¿µ</p> <ul><li>Action</li> <li>View</li> <li>Reducer</li> <li>Store
<blockquote><p>å…¨å±€å”¯ä¸€çš„ Store å¯¹è±¡ã€‚å¤§ä½“å¯ä»¥è®¤ä¸ºæ˜¯ MVC (Modelã€Viewã€Control) ä¸­çš„ Modelã€‚</p></blockquote></li></ul> <p>æµç¨‹</p> <ul><li>dispatch action</li> <li>reducer -&gt; newState ä¸å¯å˜å€¼</li> <li>subscribe è§¦å‘é€šçŸ¥ï¼Œè§¦å‘è§†å›¾å±‚åˆ·æ–°</li></ul> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8109914f58343c6b98b929657e2f167~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9663af279dff4884bfeb2e1563f10c87~tplv-k3u1fbpfcp-zoom-1.image" alt="image"></p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/667a4e05d3504d04b03deeb8c63d2ad9~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p> <h3 id="react-redux"><a href="#react-redux" class="header-anchor">#</a> react-redux</h3> <ul><li>Provider</li> <li>connect</li> <li>mapStateToProps</li> <li>mapDispatchToProps</li></ul> <h3 id="react-action-å¦‚ä½•å¤„ç†å¼‚æ­¥"><a href="#react-action-å¦‚ä½•å¤„ç†å¼‚æ­¥" class="header-anchor">#</a> React action å¦‚ä½•å¤„ç†å¼‚æ­¥</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åŒæ­¥ action</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">addTodo</span> <span class="token operator">=</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// è¿”å› action</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		type<span class="token operator">:</span> <span class="token string">'ADD_TODO'</span><span class="token punctuation">,</span>
		payload<span class="token operator">:</span> text
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¼‚æ­¥ action</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">addTodoAsync</span> <span class="token operator">=</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// è¿”å›å‡½æ•°ï¼Œå…¶ä¸­æœ‰ dispatch å‡½æ•°</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token comment">// å¼‚æ­¥æ‰§è¡Œ action</span>
			<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">addTodo</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong><a href="https://juejin.cn/post/6943094258307956766" target="_blank" rel="noopener noreferrer">Redux-Thunk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <ul><li>ä¸€ä¸ªä¸­é—´ä»¶ï¼Œæä¾›<code>Redux</code>å¼‚æ­¥è§£å†³æ–¹æ¡ˆ</li></ul> <p>to enable Redux Thunk, use applyMiddleware():</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> applyMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">'./reducers/index'</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>rootReducer<span class="token punctuation">,</span> <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>åŒç±»çš„æœ‰</p> <ul><li>redux-promise</li> <li>redux-saga</li></ul> <h3 id="ç®€è¿°-redux-ä¸­é—´ä»¶åŸç†"><a href="#ç®€è¿°-redux-ä¸­é—´ä»¶åŸç†" class="header-anchor">#</a> ç®€è¿° Redux ä¸­é—´ä»¶åŸç†</h3> <p>åœ¨ redux çš„æµç¨‹ä¸­ï¼Œæ”¹é€  dispatch å®ç°ä¸­é—´ä»¶çš„é€»è¾‘</p> <p>å®ç°ä»£ç </p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ä¸­é—´ä»¶ä½¿ç”¨</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span>
<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token function">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
	reducer<span class="token punctuation">,</span>
	<span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">,</span> logger<span class="token punctuation">)</span><span class="token comment">// ä¼šæŒ‰é¡ºåºæ‰§è¡Œ</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// logger ä»£ç å®ç°</span>
<span class="token keyword">let</span> next <span class="token operator">=</span> store<span class="token punctuation">.</span>dispach<span class="token punctuation">;</span>
store<span class="token punctuation">.</span><span class="token function-variable function">dispatch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">dispatchAndLog</span><span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'before action: '</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span>
	<span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'after action: '</span><span class="token punctuation">,</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="react-router-çŸ¥è¯†ç‚¹"><a href="#react-router-çŸ¥è¯†ç‚¹" class="header-anchor">#</a> react-router çŸ¥è¯†ç‚¹</h3> <ul><li>hashæ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼Œeg: http://abc.com/#/user/001</li> <li>H5 historyæ¨¡å¼ï¼Œeg: http://abc.com/user/001
<ul><li>éœ€è¦serveræ”¯æŒï¼Œå› æ­¤æ— ç‰¹æ®Šéœ€æ±‚é€‰æ‹©hashæ¨¡å¼</li></ul></li></ul> <p>ä»£ç å®ç°</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token comment">// hash</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HashRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Switch<span class="token punctuation">,</span> Route<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span> 

<span class="token comment">// H5</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Switch<span class="token punctuation">,</span> Route<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span> 


<span class="token keyword">function</span> <span class="token function">RouterComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>Router exact path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>Home<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>Router path<span class="token operator">=</span><span class="token string">&quot;/project/:id&quot;</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>Project <span class="token operator">/</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>Router path<span class="token operator">=</span><span class="token string">&quot;*&quot;</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>NotFound <span class="token operator">/</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> React form <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span> useParams <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
<span class="token keyword">function</span> <span class="token function">Project</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token operator">&gt;</span>é¦–é¡µ<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>React-router è·¯ç”±è·³è½¬</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>

<span class="token keyword">function</span> <span class="token function">Trash</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> history <span class="token operator">=</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>å›åˆ°é¦–é¡µ<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>React-router è·¯ç”±é…ç½® æ‡’åŠ è½½</p> <ul><li>Suspense</li> <li>lazy import</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Suspense<span class="token punctuation">,</span> lazy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">const</span> Home <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../Home'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Suspense<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>Router exact path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>react router åŸç†</p> <p>å‚è€ƒèµ„æ–™</p> <ul><li><a href="https://juejin.cn/post/6886290490640039943" target="_blank" rel="noopener noreferrer">ã€Œæºç è§£æ ã€è¿™ä¸€æ¬¡å½»åº•å¼„æ‡‚react-routerè·¯ç”±åŸç†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h1 id="react-åŸç†"><a href="#react-åŸç†" class="header-anchor">#</a> React åŸç†</h1> <h2 id="å‡½æ•°å¼ç¼–ç¨‹-ä¸å¯å˜å€¼"><a href="#å‡½æ•°å¼ç¼–ç¨‹-ä¸å¯å˜å€¼" class="header-anchor">#</a> å‡½æ•°å¼ç¼–ç¨‹ ä¸å¯å˜å€¼</h2> <h2 id="vdom-å’Œ-diff"><a href="#vdom-å’Œ-diff" class="header-anchor">#</a> vdom å’Œ diff</h2> <h2 id="jsxçš„æœ¬è´¨"><a href="#jsxçš„æœ¬è´¨" class="header-anchor">#</a> JSXçš„æœ¬è´¨</h2> <p>JSXæ˜¯ä¸€ç§ç±»XMLè¯­è¨€ï¼Œæ˜¯JavaScriptçš„è¯­æ³•æ‰©å±•ï¼Œå…¨ç§°æ˜¯JavaScript XMLã€‚</p> <ul><li>JSX ç›¸ç•¶æ–¼ Vue æ¨¡æ¿</li> <li>Vue æ¨¡æ¿ä¸æ˜¯ html</li> <li>JSX ä¸æ˜¯ JS</li></ul> <p>æ ¸å¿ƒ</p> <ul><li>React.createElement å³ h å‡½æ•°ï¼Œè¿”å› vnode</li> <li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯èƒ½æ˜¯ç»„ä»¶ã€htmlã€tag</li> <li>ç»„ä»¶åï¼Œé¦–å­—æ¯å¿…é¡»å¤§å†™ï¼ˆReact è§„å®šï¼‰</li></ul> <p>å¯ä»¥é€šè¿‡ <a href="https://www.babeljs.cn/repl" target="_blank" rel="noopener noreferrer">babel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç¼–è¯‘ JSXï¼Œçœ‹ç¼–è¯‘å‡ºæ¥çš„æœ¬è´¨</p> <p>eg:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> ImgElem <span class="token operator">=</span> <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;div1&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>some text<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>imgUrl<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>ImgElem<span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token comment">// ç»“æœ</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ImgElem <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&quot;div1&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">/*#__PURE__*/</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;some text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">/*#__PURE__*/</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  src<span class="token operator">:</span> imgUrl
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">/*#__PURE__*/</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>ImgElem<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><a href="https://reactjs.org/docs/react-api.html#createelement" target="_blank" rel="noopener noreferrer">æ€»ç»“<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
  type<span class="token punctuation">,</span>
  <span class="token punctuation">[</span>props<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token operator">...</span>children<span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>Create and return a new React element of the given type.</p></blockquote> <ul><li><p>React.createElement('div', null, [child1, child2, child3])</p></li> <li><p>React.createElement('div', {...}, child1, child2, child3)</p></li> <li><p>React.createElement(List, null, child1, child2, 'æ–‡æœ¬èŠ‚ç‚¹')</p></li> <li><p>h å‡½æ•¸</p></li> <li><p>è¿”å› vnode(virtual node è™šæ‹ŸèŠ‚ç‚¹)çš„æ•°æ®ç»“æ„</p></li> <li><p>patch å‡½æ•¸</p></li></ul> <h2 id="åˆæˆäº‹ä»¶æœºåˆ¶"><a href="#åˆæˆäº‹ä»¶æœºåˆ¶" class="header-anchor">#</a> åˆæˆäº‹ä»¶æœºåˆ¶</h2> <h2 id="setstate-ä¸»æµç¨‹-batchupdateæœºåˆ¶"><a href="#setstate-ä¸»æµç¨‹-batchupdateæœºåˆ¶" class="header-anchor">#</a> setState ä¸»æµç¨‹ batchUpdateæœºåˆ¶</h2> <h2 id="transaction-äº‹åŠ¡-æœºåˆ¶"><a href="#transaction-äº‹åŠ¡-æœºåˆ¶" class="header-anchor">#</a> transaction(äº‹åŠ¡)æœºåˆ¶</h2> <h2 id="ç»„ä»¶æ¸²æŸ“å’Œæ›´æ–°è¿‡ç¨‹"><a href="#ç»„ä»¶æ¸²æŸ“å’Œæ›´æ–°è¿‡ç¨‹" class="header-anchor">#</a> ç»„ä»¶æ¸²æŸ“å’Œæ›´æ–°è¿‡ç¨‹</h2> <h2 id="react-fiber"><a href="#react-fiber" class="header-anchor">#</a> React fiber</h2> <ul><li>æ˜¯React16.13 æ–°å¢çš„ä¸€ä¸ªæ€§èƒ½ä¼˜åŒ–çš„æ–¹æ¡ˆ</li> <li>React å†…éƒ¨è¿è¡Œæœºåˆ¶ï¼Œå¼€å‘è€…ä½“ä¼šä¸åˆ°</li></ul> <p>èƒŒæ™¯</p> <p>æ›´æ–°æ€§èƒ½é—®é¢˜</p> <ul><li>JS å•çº¿ç¨‹ï¼Œä¸ DOM æ¸²æŸ“å…±ç”¨åŒä¸€çº¿ç¨‹ï¼›</li> <li>å½“ç»„ä»¶å¤æ‚ï¼Œæ›´æ–°æ—¶è®¡ç®—å’Œæ¸²æŸ“å‹åŠ›å¤§ï¼›</li> <li>æ­¤æ—¶å†æœ‰é¢‘ç¹çš„ DOM æ“ä½œéœ€æ±‚ï¼ˆåŠ¨ç”»ï¼Œé¼ æ ‡æ‹–æ‹½ï¼‰ï¼Œå°†æ‰å¸§å¡é¡¿
<ul><li><a href="https://claudiopro.github.io/react-fiber-vs-stack-demo/fiber.html" target="_blank" rel="noopener noreferrer">Fiber Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://segmentfault.com/img/bVboIan?w=550&amp;h=280" alt="Fiber Example"></li> <li><a href="https://claudiopro.github.io/react-fiber-vs-stack-demo/stack.html" target="_blank" rel="noopener noreferrer">Stack Example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://segmentfault.com/img/bVboH8j?w=550&amp;h=280" alt="stack Example"></li></ul></li></ul> <p>ä¸ºäº†è§£å†³ä¸Šè¿°æ€§èƒ½é—®é¢˜ï¼Œæ›´æ–°é˜¶æ®µ <code>patch</code> åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ</p> <ol><li><a href="https://dict.youdao.com/search?q=reconciliation&amp;keyfrom=new-fanyi.smartResult" target="_blank" rel="noopener noreferrer">reconciliation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>é˜¶æ®µï¼š
æ‰§è¡Œ diff ç®—æ³•ï¼Œçº¯ JS è®¡ç®—</li> <li>commit é˜¶æ®µï¼šå°† diff ç»“æœæ¸²æŸ“åˆ° DOM ä¸Š</li></ol> <p>è§£å†³æ–¹æ¡ˆfiberï¼Œ<code>ä»»åŠ¡åˆ†ç‰‡</code> <code>æ—¶é—´åˆ†ç‰‡</code>æ€æƒ³</p> <ul><li>å°† reconciliation é˜¶æ®µè¿›è¡Œä»»åŠ¡æ‹†åˆ† ï¼ˆå› ä¸º commit é˜¶æ®µæ— æ³•æ‹†åˆ†ï¼‰</li> <li>DOM éœ€è¦æ¸²æŸ“æ—¶æš‚åœï¼Œç©ºé—²æ—¶æ¢å¤</li> <li>é€šè¿‡ window.requestIdleCallback(idle: é—²ç½®) å¯ä»¥çŸ¥é“ DOM ä»€ä¹ˆæ—¶å€™éœ€è¦æ¸²æŸ“
<ul><li>window.requestIdleCallback()æ–¹æ³•æ’å…¥ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°†åœ¨æµè§ˆå™¨ç©ºé—²æ—¶æœŸè¢«è°ƒç”¨</li> <li>å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒè¯¥APIï¼Œfiber ä¸ç”Ÿæ•ˆï¼Œä¹Ÿæ— å¦¨</li></ul></li></ul> <p>æ•°æ®ç»“æ„</p> <ul><li>ç”±äºåŸæœ‰çš„å †æ ˆç»“æ„ï¼Œæš‚åœé‡å¯ä»»åŠ¡æ¥å®ç°åˆ†ç‰‡ï¼Œé€’å½’æ— æ³•ä¸­æ–­
<ul><li>å®ç°åˆ†ç‰‡éœ€è¦<code>éšæ—¶åœæ­¢éå†å¹¶ç¨åæ¢å¤</code></li></ul></li> <li>æ‰€ä»¥ç”±<code>æ ˆ</code>ä¿®æ”¹ä¸º<code>å•é“¾è¡¨</code>çš„å½¢å¼ï¼Œè™šæ‹Ÿå †æ ˆï¼Œåœ¨éå†æ ‘çš„æ—¶å€™ä¸ä¼šå¢é•¿å †æ ˆ</li></ul> <h3 id="react-fiberå¦‚ä½•ä¼˜åŒ–æ€§èƒ½"><a href="#react-fiberå¦‚ä½•ä¼˜åŒ–æ€§èƒ½" class="header-anchor">#</a> React-fiberå¦‚ä½•ä¼˜åŒ–æ€§èƒ½</h3> <h2 id="react-å’Œ-vue-çš„åŒºåˆ«ã€-react-å’Œ-vue-å¦‚ä½•æŠ€æœ¯é€‰å‹ã€‚åˆ†åˆ«æ›´é€‚åˆå’Œæ“…é•¿å“ªäº›ä¸šåŠ¡"><a href="#react-å’Œ-vue-çš„åŒºåˆ«ã€-react-å’Œ-vue-å¦‚ä½•æŠ€æœ¯é€‰å‹ã€‚åˆ†åˆ«æ›´é€‚åˆå’Œæ“…é•¿å“ªäº›ä¸šåŠ¡" class="header-anchor">#</a> React å’Œ Vue çš„åŒºåˆ«ã€ React å’Œ Vue å¦‚ä½•æŠ€æœ¯é€‰å‹ã€‚åˆ†åˆ«æ›´é€‚åˆå’Œæ“…é•¿å“ªäº›ä¸šåŠ¡ï¼Ÿ</h2> <p><strong>React å’Œ Vue çš„åŒºåˆ«</strong></p> <ul><li>ç›¸åŒç‚¹
<ul><li>éƒ½æ”¯æŒç»„ä»¶åŒ–</li> <li>éƒ½æ˜¯æ•°æ®é©±åŠ¨è§†å›¾</li> <li>éƒ½æ˜¯ vdom æ“ä½œ DOM</li></ul></li> <li>ä¸åŒç‚¹
<ul><li>React ç”¨ JSX(JS)ï¼ŒVue ä½¿ç”¨æ¨¡æ¿(html)
<blockquote><p>JSX + inline styleï¼Œä¹Ÿå°±æ˜¯æŠŠ HTML å’Œ CSS å…¨éƒ½æ•´è¿› JavaScript äº†</p></blockquote></li> <li>React å‡½æ•°å¼ç¼–ç¨‹ï¼ŒVue å£°æ˜å¼ç¼–ç¨‹</li> <li>React æ›´å¤šçš„æ˜¯è‡ªåŠ›æ›´ç”Ÿï¼ŒVue æŠŠæƒ³è¦çš„éƒ½ç»™ä½ 
<ul><li>ä¾‹å¦‚ï¼š<a href="https://www.jianshu.com/p/6e124ad23c68" target="_blank" rel="noopener noreferrer">vue åŒå‘ç»‘å®šå’Œ react æ•°æ®ç»‘å®š <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <blockquote><p>åŒå‘ç»‘å®šæ˜¯å¯¹è¡¨å•æ¥è¯´çš„ï¼Œè¡¨å•çš„åŒå‘ç»‘å®šï¼Œè¯´åˆ°åº•ä¸è¿‡æ˜¯ value çš„å•å‘ç»‘å®š + onChange äº‹ä»¶ä¾¦å¬çš„ä¸€ä¸ªè¯­æ³•ç³–ã€‚</p></blockquote></li> <li>Vue çš„é»˜è®¤ <code>API</code> æ˜¯ä»¥ç®€å•æ˜“ä¸Šæ‰‹ä¸ºç›®æ ‡</li></ul></li></ul> <blockquote><p>React çš„ç¤¾åŒº/ç»„ä»¶ç”Ÿæ€æ¯” Vue å¤§å¾ˆå¤š</p></blockquote></li></ul> <p><strong>React å’Œ Vue å¦‚ä½•æŠ€æœ¯é€‰å‹ã€‚åˆ†åˆ«æ›´é€‚åˆå’Œæ“…é•¿å“ªäº›ä¸šåŠ¡ï¼Ÿ</strong></p> <ol><li>åº”ç”¨åœºæ™¯ï¼Œä¸šåŠ¡è€ƒè™‘ã€‚æœ‰äººè®¤ä¸ºï¼Œvue ä¸é€‚åˆå¤§å‹é¡¹ç›®</li></ol> <blockquote><p>åœ¨è¶…å¤§é‡æ•°æ®çš„é¦–å±æ¸²æŸ“é€Ÿåº¦ä¸Šï¼ŒReact æœ‰ä¸€å®šä¼˜åŠ¿ï¼Œå› ä¸º Vue çš„æ¸²æŸ“æœºåˆ¶å¯åŠ¨æ—¶å€™è¦åšçš„å·¥ä½œæ¯”è¾ƒå¤šï¼Œè€Œä¸” React æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ã€‚</p></blockquote> <blockquote><p>å¤§åˆ—è¡¨æ¸²æŸ“ï¼Œå¤§é‡æ•°æ®åŠ è½½ï¼Œä¸åšè¿›ä¸€æ­¥ä¼˜åŒ–çš„è¯Vueæ˜æ˜¾æ¯”Reactæ…¢</p></blockquote> <ol start="2"><li><p>ä»æŠ€æœ¯å¼€å‘å›¢é˜Ÿç†Ÿæ‚‰ç¨‹åº¦å’Œæ‹›äººæˆæœ¬è€ƒè™‘ã€‚ç†Ÿæ‚‰å“ªä¸ªæ¡†æ¶ï¼Œå“ªä¸ªæ¡†æ¶çš„äººå®¹æ˜“æ‹›ã€‚</p></li> <li><p>ä»ç¤¾åŒºå¤§å°å’Œæ´»è·ƒåº¦è€ƒè™‘ã€‚</p></li></ol> <p>å‚è€ƒï¼š</p> <ul><li><a href="https://www.zhihu.com/question/31585377" target="_blank" rel="noopener noreferrer">Vueå’ŒReactçš„ä½¿ç”¨åœºæ™¯å’Œæ·±åº¦æœ‰ä½•ä¸åŒï¼Ÿ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="è‡ªå®šä¹‰-hooks"><a href="#è‡ªå®šä¹‰-hooks" class="header-anchor">#</a> è‡ªå®šä¹‰ hooks</h2> <p>é€šè¿‡ antd ä¸­çš„ Grid åˆ¤æ–­æ˜¯å¦æ˜¯ desktop ç‰ˆ</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// å®šä¹‰</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Grid <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> useBreakpoint <span class="token punctuation">}</span> <span class="token operator">=</span> Grid<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useIsDesktop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>isDesktop<span class="token punctuation">,</span> setIsDesktop<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> screens <span class="token operator">=</span> <span class="token function">useBreakpoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'useBreakpoint screens :&gt;&gt; '</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>screens<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">let</span> isDesktop <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>screens<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">screen</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>screen<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>screen<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">screen</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>screen<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'md'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// å¦‚æœå­˜åœ¨ md å°ºå¯¸, è­‰æ˜æ˜¯æ¡Œé¢ç‰ˆ</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'isDesktop :&gt;&gt; '</span><span class="token punctuation">,</span> isDesktop<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">setIsDesktop</span><span class="token punctuation">(</span>isDesktop<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

	<span class="token keyword">return</span> isDesktop<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ä½¿ç”¨</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useIsDesktop <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/common/customHooks/useIsDesktop'</span>

<span class="token keyword">const</span> isDesktop <span class="token operator">=</span> <span class="token function">useIsDesktop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/28/2023, 9:53:21 AM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#åŸºç¡€" class="sidebar-link reco-side-åŸºç¡€" data-v-70334359>åŸºç¡€</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#jsxåŸºç¡€çŸ¥è¯†ç‚¹" class="sidebar-link reco-side-jsxåŸºç¡€çŸ¥è¯†ç‚¹" data-v-70334359>JSXåŸºç¡€çŸ¥è¯†ç‚¹</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#jsxå¦‚ä½•åˆ¤æ–­æ¡ä»¶å’Œæ¸²æŸ“åˆ—è¡¨" class="sidebar-link reco-side-jsxå¦‚ä½•åˆ¤æ–­æ¡ä»¶å’Œæ¸²æŸ“åˆ—è¡¨" data-v-70334359>JSXå¦‚ä½•åˆ¤æ–­æ¡ä»¶å’Œæ¸²æŸ“åˆ—è¡¨</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#reactäº‹ä»¶ä¸ºä½•bind-this" class="sidebar-link reco-side-reactäº‹ä»¶ä¸ºä½•bind-this" data-v-70334359>Reactäº‹ä»¶ä¸ºä½•bind this</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-event-äº‹ä»¶å’Œ-dom-äº‹ä»¶çš„åŒºåˆ«" class="sidebar-link reco-side-react-event-äº‹ä»¶å’Œ-dom-äº‹ä»¶çš„åŒºåˆ«" data-v-70334359>React event äº‹ä»¶å’Œ DOM äº‹ä»¶çš„åŒºåˆ«</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-è¡¨å•çŸ¥è¯†ç‚¹" class="sidebar-link reco-side-react-è¡¨å•çŸ¥è¯†ç‚¹" data-v-70334359>React è¡¨å•çŸ¥è¯†ç‚¹</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#reactçˆ¶å­ç»„ä»¶é€šè®¯" class="sidebar-link reco-side-reactçˆ¶å­ç»„ä»¶é€šè®¯" data-v-70334359>Reactçˆ¶å­ç»„ä»¶é€šè®¯</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#setstate-ä¸ºä½•ä½¿ç”¨ä¸å¯å˜å€¼" class="sidebar-link reco-side-setstate-ä¸ºä½•ä½¿ç”¨ä¸å¯å˜å€¼" data-v-70334359>setState ä¸ºä½•ä½¿ç”¨ä¸å¯å˜å€¼</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#setstate-æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„" class="sidebar-link reco-side-setstate-æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„" data-v-70334359>setState æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#setstateä½•æ—¶ä¼šåˆå¹¶state" class="sidebar-link reco-side-setstateä½•æ—¶ä¼šåˆå¹¶state" data-v-70334359>setStateä½•æ—¶ä¼šåˆå¹¶state</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-component-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="sidebar-link reco-side-react-component-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" data-v-70334359>React Component ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#é«˜çº§ç‰¹æ€§" class="sidebar-link reco-side-é«˜çº§ç‰¹æ€§" data-v-70334359>é«˜çº§ç‰¹æ€§</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-å‡½æ•°ç»„ä»¶å’Œ-class-ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«" class="sidebar-link reco-side-react-å‡½æ•°ç»„ä»¶å’Œ-class-ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«" data-v-70334359>React å‡½æ•°ç»„ä»¶å’Œ class ç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#æœ‰å“ªäº›-usehooks" class="sidebar-link reco-side-æœ‰å“ªäº›-usehooks" data-v-70334359>æœ‰å“ªäº› useHooks</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#ä»€ä¹ˆæ˜¯-react-éå—æ§ç»„ä»¶" class="sidebar-link reco-side-ä»€ä¹ˆæ˜¯-react-éå—æ§ç»„ä»¶" data-v-70334359>ä»€ä¹ˆæ˜¯ React éå—æ§ç»„ä»¶</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#ä»€ä¹ˆåœºæ™¯éœ€è¦ä½¿ç”¨-react-portals" class="sidebar-link reco-side-ä»€ä¹ˆåœºæ™¯éœ€è¦ä½¿ç”¨-react-portals" data-v-70334359>ä»€ä¹ˆåœºæ™¯éœ€è¦ä½¿ç”¨ React Portals</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#å¯¹æ¯”-vue-slot-çš„å…·åæ’æ§½-å’Œ-react-this-props-children" class="sidebar-link reco-side-å¯¹æ¯”-vue-slot-çš„å…·åæ’æ§½-å’Œ-react-this-props-children" data-v-70334359>å¯¹æ¯” &quot;Vue slot çš„å…·åæ’æ§½&quot; å’Œ &quot;react {this.props.children}&quot;</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-context" class="sidebar-link reco-side-react-context" data-v-70334359>React Context</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#å¦‚ä½•å¼‚æ­¥åŠ è½½ç»„ä»¶" class="sidebar-link reco-side-å¦‚ä½•å¼‚æ­¥åŠ è½½ç»„ä»¶" data-v-70334359>å¦‚ä½•å¼‚æ­¥åŠ è½½ç»„ä»¶</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#reactæ€§èƒ½ä¼˜åŒ–" class="sidebar-link reco-side-reactæ€§èƒ½ä¼˜åŒ–" data-v-70334359>Reactæ€§èƒ½ä¼˜åŒ–</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-é«˜é˜¶ç»„ä»¶-hoc" class="sidebar-link reco-side-react-é«˜é˜¶ç»„ä»¶-hoc" data-v-70334359>React é«˜é˜¶ç»„ä»¶(HOC)</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#ä»€ä¹ˆæ˜¯react-render-props" class="sidebar-link reco-side-ä»€ä¹ˆæ˜¯react-render-props" data-v-70334359>ä»€ä¹ˆæ˜¯React Render Props</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#å¯¹æ¯”-hoc-å’Œ-render-props" class="sidebar-link reco-side-å¯¹æ¯”-hoc-å’Œ-render-props" data-v-70334359>å¯¹æ¯” HOC å’Œ Render Props</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#redux" class="sidebar-link reco-side-redux" data-v-70334359>Redux</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#åŸºæœ¬çŸ¥è¯†ç‚¹" class="sidebar-link reco-side-åŸºæœ¬çŸ¥è¯†ç‚¹" data-v-70334359>åŸºæœ¬çŸ¥è¯†ç‚¹</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#redux-å•å‘æ•¸æ“šæµ" class="sidebar-link reco-side-redux-å•å‘æ•¸æ“šæµ" data-v-70334359>Redux å•å‘æ•¸æ“šæµ</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-redux" class="sidebar-link reco-side-react-redux" data-v-70334359>react-redux</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-action-å¦‚ä½•å¤„ç†å¼‚æ­¥" class="sidebar-link reco-side-react-action-å¦‚ä½•å¤„ç†å¼‚æ­¥" data-v-70334359>React action å¦‚ä½•å¤„ç†å¼‚æ­¥</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#ç®€è¿°-redux-ä¸­é—´ä»¶åŸç†" class="sidebar-link reco-side-ç®€è¿°-redux-ä¸­é—´ä»¶åŸç†" data-v-70334359>ç®€è¿° Redux ä¸­é—´ä»¶åŸç†</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-router-çŸ¥è¯†ç‚¹" class="sidebar-link reco-side-react-router-çŸ¥è¯†ç‚¹" data-v-70334359>react-router çŸ¥è¯†ç‚¹</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#å‡½æ•°å¼ç¼–ç¨‹-ä¸å¯å˜å€¼" class="sidebar-link reco-side-å‡½æ•°å¼ç¼–ç¨‹-ä¸å¯å˜å€¼" data-v-70334359>å‡½æ•°å¼ç¼–ç¨‹ ä¸å¯å˜å€¼</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#vdom-å’Œ-diff" class="sidebar-link reco-side-vdom-å’Œ-diff" data-v-70334359>vdom å’Œ diff</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#jsxçš„æœ¬è´¨" class="sidebar-link reco-side-jsxçš„æœ¬è´¨" data-v-70334359>JSXçš„æœ¬è´¨</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#åˆæˆäº‹ä»¶æœºåˆ¶" class="sidebar-link reco-side-åˆæˆäº‹ä»¶æœºåˆ¶" data-v-70334359>åˆæˆäº‹ä»¶æœºåˆ¶</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#setstate-ä¸»æµç¨‹-batchupdateæœºåˆ¶" class="sidebar-link reco-side-setstate-ä¸»æµç¨‹-batchupdateæœºåˆ¶" data-v-70334359>setState ä¸»æµç¨‹ batchUpdateæœºåˆ¶</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#transaction-äº‹åŠ¡-æœºåˆ¶" class="sidebar-link reco-side-transaction-äº‹åŠ¡-æœºåˆ¶" data-v-70334359>transaction(äº‹åŠ¡)æœºåˆ¶</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#ç»„ä»¶æ¸²æŸ“å’Œæ›´æ–°è¿‡ç¨‹" class="sidebar-link reco-side-ç»„ä»¶æ¸²æŸ“å’Œæ›´æ–°è¿‡ç¨‹" data-v-70334359>ç»„ä»¶æ¸²æŸ“å’Œæ›´æ–°è¿‡ç¨‹</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#react-fiber" class="sidebar-link reco-side-react-fiber" data-v-70334359>React fiber</a></li><li class="level-3" data-v-70334359><a href="/blogs/FE/React_Base.html#react-fiberå¦‚ä½•ä¼˜åŒ–æ€§èƒ½" class="sidebar-link reco-side-react-fiberå¦‚ä½•ä¼˜åŒ–æ€§èƒ½" data-v-70334359>React-fiberå¦‚ä½•ä¼˜åŒ–æ€§èƒ½</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#react-å’Œ-vue-çš„åŒºåˆ«ã€-react-å’Œ-vue-å¦‚ä½•æŠ€æœ¯é€‰å‹ã€‚åˆ†åˆ«æ›´é€‚åˆå’Œæ“…é•¿å“ªäº›ä¸šåŠ¡" class="sidebar-link reco-side-react-å’Œ-vue-çš„åŒºåˆ«ã€-react-å’Œ-vue-å¦‚ä½•æŠ€æœ¯é€‰å‹ã€‚åˆ†åˆ«æ›´é€‚åˆå’Œæ“…é•¿å“ªäº›ä¸šåŠ¡" data-v-70334359>React å’Œ Vue çš„åŒºåˆ«ã€ React å’Œ Vue å¦‚ä½•æŠ€æœ¯é€‰å‹ã€‚åˆ†åˆ«æ›´é€‚åˆå’Œæ“…é•¿å“ªäº›ä¸šåŠ¡ï¼Ÿ</a></li><li class="level-2" data-v-70334359><a href="/blogs/FE/React_Base.html#è‡ªå®šä¹‰-hooks" class="sidebar-link reco-side-è‡ªå®šä¹‰-hooks" data-v-70334359>è‡ªå®šä¹‰ hooks</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.a6f77771.js" defer></script><script src="/assets/js/3.7f2c89d8.js" defer></script><script src="/assets/js/1.7045c4ac.js" defer></script><script src="/assets/js/28.66456a8e.js" defer></script>
  </body>
</html>
